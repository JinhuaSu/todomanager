# todomanager

帮助专注与减少不必要精力消耗的任务管理器。

很多任务管理器实际上只是克服拖延的强制专注应用，并未从根本上解决瞎努力、努力用错方向和过度规划所带来的问题。

坚持是个老生长谈的问题，无法坚持是大多数人面临的处境。

很多人抱怨世界变化太快，目标也不得不经常调整，原则的丧失是我们每一个人都面临着的重大问题。

很多时候我们并不是没有判断事情重要性的能力，而是情绪、意外事件等不可预测的任务突破了原本设计的原则。

意外与情绪打乱了原有的作息规律，冲破了长期坚持的底线，使我们对原有的原则不再信赖。

本项目的最初目的是打造一款最适合作者自己的人生管理工具，但很多人同样面临类似的问题。

## 功能特性

- **任务管理**: 记录待办事项、专注时间、完成度
- **智能评分**: 基于任务类型、时长、完成情况计算分数
- **数据可视化**: 展示各项指标和评分趋势
- **日历集成**: 支持从iCloud日历导入任务（计划中）
- **游戏化**: 支持进一步游戏化开发

## 技术架构

- **前端**: Next.js 15 + React 19 + TypeScript
- **样式**: Tailwind CSS
- **数据库**: PostgreSQL + Prisma ORM
- **图表**: Recharts
- **部署**: 支持一键部署到Vercel

## 快速开始

### 1. 克隆项目

```bash
git clone <repository-url>
cd todomanager
```

### 2. 安装依赖

```bash
npm install
```

### 3. 配置环境变量

复制 `env.example` 为 `.env.local` 并配置：

```bash
cp env.example .env.local
```

编辑 `.env.local` 文件，配置数据库连接：

```env
DATABASE_URL="postgresql://username:password@localhost:5432/todomanager"
```

### 4. 数据库设置

```bash
# 生成Prisma客户端
npx prisma generate

# 运行数据库迁移
npx prisma db push

# 初始化示例数据（可选）
node scripts/init-db.js
```

### 5. 启动开发服务器

```bash
npm run dev
```

访问 [http://localhost:3000](http://localhost:3000) 查看应用。

## 评分系统

基于Python代码中的评分逻辑，系统会根据以下因素计算任务评分：

### 基础评分规则

| 任务类型 | 基础分数 |
|---------|---------|
| 整理 | 1 |
| 矩阵模拟开发 | 3 |
| 卫生 | 1 |
| 课外阅读 | 1 |
| 刷手机 | -2 |
| 锻炼 | 1 |
| 开发 | 2 |
| 调研 | 1 |
| 沟通 | 2 |

### 评分因子

1. **时间因子**: 根据预期时间与实际时间的比例调整
2. **类型因子**: 根据任务标题中的关键词调整
   - "ddl当日" × 1.2
   - "赚钱" × 1.2
   - "当日突发" × 0.8
   - "人情" × 1.2
   - "不紧急但重要" × 1.4
3. **完成度因子**: 根据任务完成百分比调整

## 部署到Vercel

1. 在Vercel上创建新项目
2. 连接GitHub仓库
3. 配置环境变量：
   - `DATABASE_URL`: PostgreSQL数据库连接字符串
4. 部署

## 开发计划

- [ ] iCloud日历集成
- [ ] 图片OCR任务抽取
- [ ] 大模型模板支持
- [ ] 游戏化功能
- [ ] 移动端适配
- [ ] 数据导出功能

## 贡献

欢迎提交Issue和Pull Request！

## 许可证

MIT License
